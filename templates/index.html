<!--&lt;!&ndash;<!DOCTYPE html>&ndash;&gt;-->
<!--&lt;!&ndash;<html lang="en">&ndash;&gt;-->
<!--&lt;!&ndash;<head>&ndash;&gt;-->
<!--&lt;!&ndash;    <meta charset="UTF-8">&ndash;&gt;-->
<!--&lt;!&ndash;    <meta name="viewport" content="width=device-width, initial-scale=1.0">&ndash;&gt;-->
<!--&lt;!&ndash;    <title>STEMagine - Aligning GenAI to Societal Values</title>&ndash;&gt;-->
<!--&lt;!&ndash;    <style>&ndash;&gt;-->
<!--&lt;!&ndash;        :root {&ndash;&gt;-->
<!--&lt;!&ndash;            /* Palette extracted from screenshots */&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;primary-gradient: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;bg-color: #f3f4f6;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;card-bg: #ffffff;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;text-main: #111827;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;text-muted: #6b7280;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;accent-purple: #9333ea;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;accent-pink: #db2777;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;accent-orange: #f97316;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;accent-blue: #3b82f6;&ndash;&gt;-->

<!--&lt;!&ndash;            /* Spacing & Radius */&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;radius-lg: 24px;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;radius-md: 16px;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;radius-sm: 12px;&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;shadow-soft: 0 10px 40px -10px rgba(0,0,0,0.08);&ndash;&gt;-->
<!--&lt;!&ndash;            &#45;&#45;shadow-card: 0 4px 6px -1px rgba(0,0,0,0.05), 0 2px 4px -1px rgba(0,0,0,0.03);&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        * {&ndash;&gt;-->
<!--&lt;!&ndash;            box-sizing: border-box;&ndash;&gt;-->
<!--&lt;!&ndash;            margin: 0;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 0;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        body {&ndash;&gt;-->
<!--&lt;!&ndash;            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;&ndash;&gt;-->
<!--&lt;!&ndash;            background-color: var(&#45;&#45;bg-color);&ndash;&gt;-->
<!--&lt;!&ndash;            color: var(&#45;&#45;text-main);&ndash;&gt;-->
<!--&lt;!&ndash;            line-height: 1.6;&ndash;&gt;-->
<!--&lt;!&ndash;            /* Subtle background gradient mesh */&ndash;&gt;-->
<!--&lt;!&ndash;            background-image:&ndash;&gt;-->
<!--&lt;!&ndash;                radial-gradient(at 0% 0%, rgba(168, 85, 247, 0.1) 0px, transparent 50%),&ndash;&gt;-->
<!--&lt;!&ndash;                radial-gradient(at 100% 0%, rgba(236, 72, 153, 0.1) 0px, transparent 50%);&ndash;&gt;-->
<!--&lt;!&ndash;            background-attachment: fixed;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .container {&ndash;&gt;-->
<!--&lt;!&ndash;            max-width: 1100px;&ndash;&gt;-->
<!--&lt;!&ndash;            margin: 0 auto;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 0 20px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        /* -&#45;&#45; Navigation -&#45;&#45; */&ndash;&gt;-->
<!--&lt;!&ndash;        .navbar {&ndash;&gt;-->
<!--&lt;!&ndash;            display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;            justify-content: space-between;&ndash;&gt;-->
<!--&lt;!&ndash;            align-items: center;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 20px 0;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 40px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .logo {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 1.8rem;&ndash;&gt;-->
<!--&lt;!&ndash;            font-weight: 800;&ndash;&gt;-->
<!--&lt;!&ndash;            letter-spacing: -0.5px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .logo span:first-child { color: var(&#45;&#45;accent-purple); }&ndash;&gt;-->
<!--&lt;!&ndash;        .logo span:last-child { color: var(&#45;&#45;text-main); }&ndash;&gt;-->

<!--&lt;!&ndash;        .btn-cta {&ndash;&gt;-->
<!--&lt;!&ndash;            background: var(&#45;&#45;primary-gradient);&ndash;&gt;-->
<!--&lt;!&ndash;            color: white;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 10px 24px;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: 50px;&ndash;&gt;-->
<!--&lt;!&ndash;            font-weight: 600;&ndash;&gt;-->
<!--&lt;!&ndash;            text-decoration: none;&ndash;&gt;-->
<!--&lt;!&ndash;            box-shadow: 0 4px 12px rgba(236, 72, 153, 0.3);&ndash;&gt;-->
<!--&lt;!&ndash;            transition: transform 0.2s;&ndash;&gt;-->
<!--&lt;!&ndash;            border: none;&ndash;&gt;-->
<!--&lt;!&ndash;            cursor: pointer;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .btn-cta:hover { transform: translateY(-2px); }&ndash;&gt;-->
<!--&lt;!&ndash;        .btn-cta:disabled { opacity: 0.7; cursor: not-allowed; }&ndash;&gt;-->

<!--&lt;!&ndash;        /* -&#45;&#45; Hero Section -&#45;&#45; */&ndash;&gt;-->
<!--&lt;!&ndash;        .hero {&ndash;&gt;-->
<!--&lt;!&ndash;            text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 60px;&ndash;&gt;-->
<!--&lt;!&ndash;            position: relative;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .hero h1 {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 4rem;&ndash;&gt;-->
<!--&lt;!&ndash;            font-weight: 800;&ndash;&gt;-->
<!--&lt;!&ndash;            line-height: 1.1;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            letter-spacing: -1px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .hero-title-gradient {&ndash;&gt;-->
<!--&lt;!&ndash;            background: var(&#45;&#45;primary-gradient);&ndash;&gt;-->
<!--&lt;!&ndash;            -webkit-background-clip: text;&ndash;&gt;-->
<!--&lt;!&ndash;            -webkit-text-fill-color: transparent;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .hero p {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 1.25rem;&ndash;&gt;-->
<!--&lt;!&ndash;            color: var(&#45;&#45;text-muted);&ndash;&gt;-->
<!--&lt;!&ndash;            max-width: 700px;&ndash;&gt;-->
<!--&lt;!&ndash;            margin: 0 auto 40px auto;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .highlight-orange { color: var(&#45;&#45;accent-orange); font-weight: 700; }&ndash;&gt;-->
<!--&lt;!&ndash;        .highlight-purple { color: var(&#45;&#45;accent-purple); font-weight: 700; }&ndash;&gt;-->

<!--&lt;!&ndash;        /* -&#45;&#45; Stats Row -&#45;&#45; */&ndash;&gt;-->
<!--&lt;!&ndash;        .stats-row {&ndash;&gt;-->
<!--&lt;!&ndash;            display: grid;&ndash;&gt;-->
<!--&lt;!&ndash;            grid-template-columns: repeat(3, 1fr);&ndash;&gt;-->
<!--&lt;!&ndash;            gap: 24px;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 60px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .stat-card {&ndash;&gt;-->
<!--&lt;!&ndash;            background: white;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 24px;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: var(&#45;&#45;radius-md);&ndash;&gt;-->
<!--&lt;!&ndash;            box-shadow: var(&#45;&#45;shadow-soft);&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid white;&ndash;&gt;-->
<!--&lt;!&ndash;            text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;            transition: transform 0.2s;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .stat-card:hover { transform: translateY(-5px); }&ndash;&gt;-->

<!--&lt;!&ndash;        .stat-number {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 2.5rem;&ndash;&gt;-->
<!--&lt;!&ndash;            font-weight: 800;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 4px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .stat-label {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 0.9rem;&ndash;&gt;-->
<!--&lt;!&ndash;            color: var(&#45;&#45;text-muted);&ndash;&gt;-->
<!--&lt;!&ndash;            font-weight: 500;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .text-purple { color: var(&#45;&#45;accent-purple); }&ndash;&gt;-->
<!--&lt;!&ndash;        .text-orange { color: var(&#45;&#45;accent-orange); }&ndash;&gt;-->
<!--&lt;!&ndash;        .text-blue { color: #06b6d4; }&ndash;&gt;-->

<!--&lt;!&ndash;        /* -&#45;&#45; Input Section -&#45;&#45; */&ndash;&gt;-->
<!--&lt;!&ndash;        .input-wrapper {&ndash;&gt;-->
<!--&lt;!&ndash;            background: white;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 40px;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: var(&#45;&#45;radius-lg);&ndash;&gt;-->
<!--&lt;!&ndash;            box-shadow: var(&#45;&#45;shadow-soft);&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 40px;&ndash;&gt;-->
<!--&lt;!&ndash;            position: relative;&ndash;&gt;-->
<!--&lt;!&ndash;            overflow: hidden;&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid #e5e7eb;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .input-header {&ndash;&gt;-->
<!--&lt;!&ndash;            text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 30px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .input-header h2 {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 2.5rem;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .prompt-box {&ndash;&gt;-->
<!--&lt;!&ndash;            background: #f9fafb;&ndash;&gt;-->
<!--&lt;!&ndash;            border: 2px solid #e5e7eb;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: var(&#45;&#45;radius-md);&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-top: 30px;&ndash;&gt;-->
<!--&lt;!&ndash;            position: relative;&ndash;&gt;-->
<!--&lt;!&ndash;            transition: border-color 0.2s;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .prompt-box:focus-within {&ndash;&gt;-->
<!--&lt;!&ndash;            border-color: var(&#45;&#45;accent-purple);&ndash;&gt;-->
<!--&lt;!&ndash;            background: white;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        textarea {&ndash;&gt;-->
<!--&lt;!&ndash;            width: 100%;&ndash;&gt;-->
<!--&lt;!&ndash;            border: none;&ndash;&gt;-->
<!--&lt;!&ndash;            background: transparent;&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 1.1rem;&ndash;&gt;-->
<!--&lt;!&ndash;            font-family: inherit;&ndash;&gt;-->
<!--&lt;!&ndash;            resize: none;&ndash;&gt;-->
<!--&lt;!&ndash;            outline: none;&ndash;&gt;-->
<!--&lt;!&ndash;            color: var(&#45;&#45;text-main);&ndash;&gt;-->
<!--&lt;!&ndash;            min-height: 80px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .analyze-btn-container {&ndash;&gt;-->
<!--&lt;!&ndash;            display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;            justify-content: flex-end;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-top: 15px;&ndash;&gt;-->
<!--&lt;!&ndash;            align-items: center;&ndash;&gt;-->
<!--&lt;!&ndash;            gap: 15px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .char-count {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 0.85rem;&ndash;&gt;-->
<!--&lt;!&ndash;            color: var(&#45;&#45;text-muted);&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        /* -&#45;&#45; Results Section -&#45;&#45; */&ndash;&gt;-->
<!--&lt;!&ndash;        .results-container {&ndash;&gt;-->
<!--&lt;!&ndash;            margin-top: 30px;&ndash;&gt;-->
<!--&lt;!&ndash;            display: none; /* Hidden by default */&ndash;&gt;-->
<!--&lt;!&ndash;            animation: fadeIn 0.5s ease;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        @keyframes fadeIn {&ndash;&gt;-->
<!--&lt;!&ndash;            from { opacity: 0; transform: translateY(10px); }&ndash;&gt;-->
<!--&lt;!&ndash;            to { opacity: 1; transform: translateY(0); }&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .result-card {&ndash;&gt;-->
<!--&lt;!&ndash;            background: #ecfdf5;&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid #10b981;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: var(&#45;&#45;radius-md);&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .result-label {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 0.8rem;&ndash;&gt;-->
<!--&lt;!&ndash;            text-transform: uppercase;&ndash;&gt;-->
<!--&lt;!&ndash;            letter-spacing: 1px;&ndash;&gt;-->
<!--&lt;!&ndash;            font-weight: 700;&ndash;&gt;-->
<!--&lt;!&ndash;            color: #047857;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 8px;&ndash;&gt;-->
<!--&lt;!&ndash;            display: block;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .rewritten-text {&ndash;&gt;-->
<!--&lt;!&ndash;            font-family: 'Courier New', monospace;&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 1.05rem;&ndash;&gt;-->
<!--&lt;!&ndash;            color: #064e3b;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .bias-tags {&ndash;&gt;-->
<!--&lt;!&ndash;            display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;            gap: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 15px;&ndash;&gt;-->
<!--&lt;!&ndash;            flex-wrap: wrap;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .bias-tag {&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 4px 12px;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: 4px;&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 0.8rem;&ndash;&gt;-->
<!--&lt;!&ndash;            font-weight: 700;&ndash;&gt;-->
<!--&lt;!&ndash;            text-transform: uppercase;&ndash;&gt;-->
<!--&lt;!&ndash;            display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;            align-items: center;&ndash;&gt;-->
<!--&lt;!&ndash;            gap: 6px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .tag-warning {&ndash;&gt;-->
<!--&lt;!&ndash;            background: #fff7ed;&ndash;&gt;-->
<!--&lt;!&ndash;            color: #c2410c;&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid #fdba74;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .tag-success {&ndash;&gt;-->
<!--&lt;!&ndash;            background: #ecfdf5;&ndash;&gt;-->
<!--&lt;!&ndash;            color: #047857;&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid #6ee7b7;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        /* -&#45;&#45; How It Works Section -&#45;&#45; */&ndash;&gt;-->
<!--&lt;!&ndash;        .info-card {&ndash;&gt;-->
<!--&lt;!&ndash;            background: white;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 40px;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: var(&#45;&#45;radius-lg);&ndash;&gt;-->
<!--&lt;!&ndash;            box-shadow: var(&#45;&#45;shadow-soft);&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 80px;&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid rgba(0,0,0,0.02);&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .info-card h3 {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 1.8rem;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 15px;&ndash;&gt;-->
<!--&lt;!&ndash;            color: var(&#45;&#45;text-main);&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .info-card p {&ndash;&gt;-->
<!--&lt;!&ndash;            color: var(&#45;&#45;text-muted);&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 1.05rem;&ndash;&gt;-->
<!--&lt;!&ndash;            line-height: 1.7;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        /* -&#45;&#45; Educational Section -&#45;&#45; */&ndash;&gt;-->
<!--&lt;!&ndash;        .section-title {&ndash;&gt;-->
<!--&lt;!&ndash;            text-align: center;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 40px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .section-title h2 { font-size: 2.2rem; }&ndash;&gt;-->
<!--&lt;!&ndash;        .section-title span { color: var(&#45;&#45;accent-purple); }&ndash;&gt;-->

<!--&lt;!&ndash;        .cards-grid {&ndash;&gt;-->
<!--&lt;!&ndash;            display: grid;&ndash;&gt;-->
<!--&lt;!&ndash;            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));&ndash;&gt;-->
<!--&lt;!&ndash;            gap: 24px;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 80px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .feature-card {&ndash;&gt;-->
<!--&lt;!&ndash;            background: white;&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 30px;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: var(&#45;&#45;radius-lg);&ndash;&gt;-->
<!--&lt;!&ndash;            box-shadow: var(&#45;&#45;shadow-soft);&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid rgba(0,0,0,0.02);&ndash;&gt;-->
<!--&lt;!&ndash;            display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;            flex-direction: column;&ndash;&gt;-->
<!--&lt;!&ndash;            justify-content: space-between;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .icon-box {&ndash;&gt;-->
<!--&lt;!&ndash;            width: 50px;&ndash;&gt;-->
<!--&lt;!&ndash;            height: 50px;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: 12px;&ndash;&gt;-->
<!--&lt;!&ndash;            display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;            align-items: center;&ndash;&gt;-->
<!--&lt;!&ndash;            justify-content: center;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 1.5rem;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .icon-red { background: #fef2f2; color: #ef4444; }&ndash;&gt;-->
<!--&lt;!&ndash;        .icon-purple { background: #f3e8ff; color: #9333ea; }&ndash;&gt;-->
<!--&lt;!&ndash;        .icon-orange { background: #fff7ed; color: #f97316; }&ndash;&gt;-->

<!--&lt;!&ndash;        .feature-card h3 {&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 1.4rem;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 12px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .feature-card p {&ndash;&gt;-->
<!--&lt;!&ndash;            color: var(&#45;&#45;text-muted);&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 0.95rem;&ndash;&gt;-->
<!--&lt;!&ndash;            margin-bottom: 20px;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        .did-you-know {&ndash;&gt;-->
<!--&lt;!&ndash;            background: #fafafa;&ndash;&gt;-->
<!--&lt;!&ndash;            border: 1px solid #e5e7eb;&ndash;&gt;-->
<!--&lt;!&ndash;            border-radius: var(&#45;&#45;radius-sm);&ndash;&gt;-->
<!--&lt;!&ndash;            padding: 15px;&ndash;&gt;-->
<!--&lt;!&ndash;            font-size: 0.85rem;&ndash;&gt;-->
<!--&lt;!&ndash;            color: var(&#45;&#45;text-muted);&ndash;&gt;-->
<!--&lt;!&ndash;            display: flex;&ndash;&gt;-->
<!--&lt;!&ndash;            gap: 10px;&ndash;&gt;-->
<!--&lt;!&ndash;            align-items: flex-start;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->

<!--&lt;!&ndash;        /* -&#45;&#45; Utilities -&#45;&#45; */&ndash;&gt;-->
<!--&lt;!&ndash;        .hidden { display: none !important; }&ndash;&gt;-->

<!--&lt;!&ndash;    </style>&ndash;&gt;-->
<!--&lt;!&ndash;</head>&ndash;&gt;-->
<!--&lt;!&ndash;<body>&ndash;&gt;-->

<!--&lt;!&ndash;    <div class="container">&ndash;&gt;-->
<!--&lt;!&ndash;        <nav class="navbar">&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="logo">&ndash;&gt;-->
<!--&lt;!&ndash;                <span>STEM</span><span>agine</span>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </nav>&ndash;&gt;-->

<!--&lt;!&ndash;        <header class="hero">&ndash;&gt;-->
<!--&lt;!&ndash;            <h1>&ndash;&gt;-->
<!--&lt;!&ndash;                <span class="hero-title-gradient">STEMagine</span>&ndash;&gt;-->
<!--&lt;!&ndash;            </h1>&ndash;&gt;-->
<!--&lt;!&ndash;            <p>&ndash;&gt;-->
<!--&lt;!&ndash;                A <span class="highlight-blue" style="color:var(&#45;&#45;accent-blue); font-weight:700;">inclusivity gap-aware</span> image prompt assistant. Create inclusive prompts that represent the <span class="highlight-purple">true diversity</span> of scientists, engineers, and innovators.&ndash;&gt;-->
<!--&lt;!&ndash;            </p>&ndash;&gt;-->
<!--&lt;!&ndash;        </header>&ndash;&gt;-->

<!--&lt;!&ndash;        <div class="stats-row">&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="stat-card">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="stat-number text-orange">87%</div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="stat-label">White default in AI</div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="stat-card">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="stat-number text-purple">28%</div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="stat-label">Women in STEM</div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="stat-card">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="stat-number text-blue">‚àû</div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="stat-label">Potential to change</div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->

<!--&lt;!&ndash;        <div class="input-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="input-header">&ndash;&gt;-->
<!--&lt;!&ndash;                <h2>Analyze Your <span class="hero-title-gradient">Prompt</span></h2>&ndash;&gt;-->
<!--&lt;!&ndash;                <p style="color: var(&#45;&#45;text-muted);">Enter an image generation prompt and we'll analyze it for potential biases.</p>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->

<!--&lt;!&ndash;            <div class="prompt-box">&ndash;&gt;-->
<!--&lt;!&ndash;                <div style="display: flex; gap: 10px; margin-bottom: 10px; color: var(&#45;&#45;accent-blue); font-weight: 600; font-size: 0.9rem;">&ndash;&gt;-->
<!--&lt;!&ndash;                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>&ndash;&gt;-->
<!--&lt;!&ndash;                    Your Image Prompt&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <textarea id="promptInput" placeholder="e.g., A photo of a successful startup founder in a modern office..."></textarea>&ndash;&gt;-->

<!--&lt;!&ndash;                <div class="analyze-btn-container">&ndash;&gt;-->
<!--&lt;!&ndash;                    <span id="charCount" class="char-count">0 characters</span>&ndash;&gt;-->
<!--&lt;!&ndash;                    <button id="analyzeBtn" class="btn-cta" style="border-radius: 8px;">&ndash;&gt;-->
<!--&lt;!&ndash;                        Check Inclusivity&ndash;&gt;-->
<!--&lt;!&ndash;                    </button>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->

<!--&lt;!&ndash;            <div id="resultsSection" class="results-container">&ndash;&gt;-->
<!--&lt;!&ndash;                <div id="biasTagsContainer" class="bias-tags"></div>&ndash;&gt;-->

<!--&lt;!&ndash;                <div class="result-card">&ndash;&gt;-->
<!--&lt;!&ndash;                    <span class="result-label">‚ú® Inclusive Rewrite (Mitigation Engine)</span>&ndash;&gt;-->
<!--&lt;!&ndash;                    <p id="rewriteText" class="rewritten-text"></p>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->

<!--&lt;!&ndash;        <div class="info-card">&ndash;&gt;-->
<!--&lt;!&ndash;            <h3>How it works</h3>&ndash;&gt;-->
<!--&lt;!&ndash;            <p>&ndash;&gt;-->
<!--&lt;!&ndash;                STEMagine uses two specialized AI models to ensure your prompts are inclusive.&ndash;&gt;-->
<!--&lt;!&ndash;                First, a <strong>Bias Detector</strong> scans your text for missing demographic details like&ndash;&gt;-->
<!--&lt;!&ndash;                Race, Gender, Age, and Disability. If gaps are found, a second <strong>AI Rewriter</strong>&ndash;&gt;-->
<!--&lt;!&ndash;                suggests a new, naturally phrased prompt that fills those gaps with diverse attributes,&ndash;&gt;-->
<!--&lt;!&ndash;                helping you generate more representative images.&ndash;&gt;-->
<!--&lt;!&ndash;            </p>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->

<!--&lt;!&ndash;        <div class="section-title">&ndash;&gt;-->
<!--&lt;!&ndash;            <h2>Why This <span class="highlight-purple">Matters</span></h2>&ndash;&gt;-->
<!--&lt;!&ndash;            <p style="color: var(&#45;&#45;text-muted);">Text-to-image models default to stereotypical representations.</p>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->

<!--&lt;!&ndash;        <div class="cards-grid">&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="feature-card">&ndash;&gt;-->
<!--&lt;!&ndash;                <div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="icon-box icon-red">&ndash;&gt;-->
<!--&lt;!&ndash;                        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <h3>Gender Bias</h3>&ndash;&gt;-->
<!--&lt;!&ndash;                    <p>AI models default to male representation for STEM professions. Without specification, 100% of generated scientists are often portrayed as male.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="did-you-know">&ndash;&gt;-->
<!--&lt;!&ndash;                    <span>üéì</span>&ndash;&gt;-->
<!--&lt;!&ndash;                    <span><strong>Did you know?</strong> Only 28% of STEM researchers globally are women (UNESCO, 2024).</span>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->

<!--&lt;!&ndash;            <div class="feature-card">&ndash;&gt;-->
<!--&lt;!&ndash;                <div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="icon-box icon-purple">&ndash;&gt;-->
<!--&lt;!&ndash;                        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <h3>Racial Homogeneity</h3>&ndash;&gt;-->
<!--&lt;!&ndash;                    <p>People of color are rarely represented unless explicitly specified. AI defaults to Western/white representation for most professional contexts.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="did-you-know">&ndash;&gt;-->
<!--&lt;!&ndash;                    <span>üåç</span>&ndash;&gt;-->
<!--&lt;!&ndash;                    <span><strong>Did you know?</strong> Black women earn only 2.5% of computing degrees in the US.</span>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->

<!--&lt;!&ndash;            <div class="feature-card">&ndash;&gt;-->
<!--&lt;!&ndash;                <div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="icon-box icon-orange">&ndash;&gt;-->
<!--&lt;!&ndash;                        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <h3>Age Stereotyping</h3>&ndash;&gt;-->
<!--&lt;!&ndash;                    <p>Female professionals are often portrayed younger (beauty standards), while male scientists are shown as elderly‚Äîboth perpetuating harmful stereotypes.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="did-you-know">&ndash;&gt;-->
<!--&lt;!&ndash;                    <span>üìâ</span>&ndash;&gt;-->
<!--&lt;!&ndash;                    <span><strong>Did you know?</strong> The 'Einstein effect' excludes young innovators from visual representation.</span>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->

<!--&lt;!&ndash;        <div style="text-align: center; margin-bottom: 40px; color: var(&#45;&#45;text-muted); font-size: 0.9rem;">&ndash;&gt;-->
<!--&lt;!&ndash;            Made with ‚ù§Ô∏è by Tuana, Marina, Rebecca, Sohaib & Heval ‚Äî Technical University of Munich&ndash;&gt;-->
<!--&lt;!&ndash;        </div>&ndash;&gt;-->

<!--&lt;!&ndash;    </div>&ndash;&gt;-->

<!--&lt;!&ndash;    <script>&ndash;&gt;-->
<!--&lt;!&ndash;        const promptInput = document.getElementById('promptInput');&ndash;&gt;-->
<!--&lt;!&ndash;        const analyzeBtn = document.getElementById('analyzeBtn');&ndash;&gt;-->
<!--&lt;!&ndash;        const resultsSection = document.getElementById('resultsSection');&ndash;&gt;-->
<!--&lt;!&ndash;        const rewriteText = document.getElementById('rewriteText');&ndash;&gt;-->
<!--&lt;!&ndash;        const charCount = document.getElementById('charCount');&ndash;&gt;-->
<!--&lt;!&ndash;        const biasTagsContainer = document.getElementById('biasTagsContainer');&ndash;&gt;-->

<!--&lt;!&ndash;        // Update character count&ndash;&gt;-->
<!--&lt;!&ndash;        promptInput.addEventListener('input', (e) => {&ndash;&gt;-->
<!--&lt;!&ndash;            charCount.textContent = `${e.target.value.length} characters`;&ndash;&gt;-->
<!--&lt;!&ndash;        });&ndash;&gt;-->

<!--&lt;!&ndash;        // -&#45;&#45; REAL BACKEND CONNECTION -&#45;&#45;&ndash;&gt;-->
<!--&lt;!&ndash;        analyzeBtn.addEventListener('click', async () => {&ndash;&gt;-->
<!--&lt;!&ndash;            const prompt = promptInput.value.trim();&ndash;&gt;-->
<!--&lt;!&ndash;            if (!prompt) return;&ndash;&gt;-->

<!--&lt;!&ndash;            // 1. Loading State&ndash;&gt;-->
<!--&lt;!&ndash;            analyzeBtn.textContent = "Processing...";&ndash;&gt;-->
<!--&lt;!&ndash;            analyzeBtn.disabled = true;&ndash;&gt;-->
<!--&lt;!&ndash;            resultsSection.style.display = 'none'; // Hide previous results&ndash;&gt;-->
<!--&lt;!&ndash;            rewriteText.textContent = "Analyzing...";&ndash;&gt;-->
<!--&lt;!&ndash;            biasTagsContainer.innerHTML = ""; // Clear old tags&ndash;&gt;-->

<!--&lt;!&ndash;            try {&ndash;&gt;-->
<!--&lt;!&ndash;                // 2. Call Backend API&ndash;&gt;-->
<!--&lt;!&ndash;                const response = await fetch('/analyze', {&ndash;&gt;-->
<!--&lt;!&ndash;                    method: 'POST',&ndash;&gt;-->
<!--&lt;!&ndash;                    headers: { 'Content-Type': 'application/json' },&ndash;&gt;-->
<!--&lt;!&ndash;                    body: JSON.stringify({ prompt })&ndash;&gt;-->
<!--&lt;!&ndash;                });&ndash;&gt;-->

<!--&lt;!&ndash;                const result = await response.json();&ndash;&gt;-->

<!--&lt;!&ndash;                if (result.error) {&ndash;&gt;-->
<!--&lt;!&ndash;                    alert(result.error);&ndash;&gt;-->
<!--&lt;!&ndash;                    return;&ndash;&gt;-->
<!--&lt;!&ndash;                }&ndash;&gt;-->

<!--&lt;!&ndash;                // 3. Update Rewrite Text&ndash;&gt;-->
<!--&lt;!&ndash;                if (result.rewritten) {&ndash;&gt;-->
<!--&lt;!&ndash;                    rewriteText.textContent = result.rewritten;&ndash;&gt;-->
<!--&lt;!&ndash;                } else {&ndash;&gt;-->
<!--&lt;!&ndash;                    rewriteText.textContent = "No rewrite needed (Prompt is inclusive!)";&ndash;&gt;-->
<!--&lt;!&ndash;                }&ndash;&gt;-->

<!--&lt;!&ndash;                // 4. Generate Bias Tags (Traffic Light System)&ndash;&gt;-->
<!--&lt;!&ndash;                const categories = ['Gender', 'Race', 'Disability', 'Age'];&ndash;&gt;-->

<!--&lt;!&ndash;                categories.forEach(category => {&ndash;&gt;-->
<!--&lt;!&ndash;                    const isGap = result.gaps && result.gaps.includes(category);&ndash;&gt;-->

<!--&lt;!&ndash;                    // Create Badge Element&ndash;&gt;-->
<!--&lt;!&ndash;                    const span = document.createElement('span');&ndash;&gt;-->

<!--&lt;!&ndash;                    if (isGap) {&ndash;&gt;-->
<!--&lt;!&ndash;                        span.className = 'bias-tag tag-warning';&ndash;&gt;-->
<!--&lt;!&ndash;                        span.textContent = `‚ö†Ô∏è Missing ${category}`;&ndash;&gt;-->
<!--&lt;!&ndash;                    } else {&ndash;&gt;-->
<!--&lt;!&ndash;                        span.className = 'bias-tag tag-success';&ndash;&gt;-->
<!--&lt;!&ndash;                        span.textContent = `‚úÖ ${category} Included`;&ndash;&gt;-->
<!--&lt;!&ndash;                    }&ndash;&gt;-->

<!--&lt;!&ndash;                    biasTagsContainer.appendChild(span);&ndash;&gt;-->
<!--&lt;!&ndash;                });&ndash;&gt;-->

<!--&lt;!&ndash;                // 5. Show Results&ndash;&gt;-->
<!--&lt;!&ndash;                resultsSection.style.display = 'block';&ndash;&gt;-->

<!--&lt;!&ndash;            } catch (error) {&ndash;&gt;-->
<!--&lt;!&ndash;                console.error('Error:', error);&ndash;&gt;-->
<!--&lt;!&ndash;                alert('An error occurred during analysis');&ndash;&gt;-->
<!--&lt;!&ndash;            } finally {&ndash;&gt;-->
<!--&lt;!&ndash;                // 6. Reset Button&ndash;&gt;-->
<!--&lt;!&ndash;                analyzeBtn.textContent = "Check Inclusivity";&ndash;&gt;-->
<!--&lt;!&ndash;                analyzeBtn.disabled = false;&ndash;&gt;-->
<!--&lt;!&ndash;            }&ndash;&gt;-->
<!--&lt;!&ndash;        });&ndash;&gt;-->
<!--&lt;!&ndash;    </script>&ndash;&gt;-->
<!--&lt;!&ndash;</body>&ndash;&gt;-->
<!--&lt;!&ndash;</html>&ndash;&gt;-->

<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>STEMagine - Aligning GenAI to Societal Values</title>-->
<!--    <link rel="preconnect" href="https://fonts.googleapis.com">-->
<!--    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
<!--    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">-->

<!--    <style>-->
<!--        :root {-->
<!--            /* Palette extracted from screenshots */-->
<!--            &#45;&#45;primary-gradient: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);-->
<!--            &#45;&#45;bg-color: #f3f4f6;-->
<!--            &#45;&#45;card-bg: #ffffff;-->
<!--            &#45;&#45;text-main: #111827;-->
<!--            &#45;&#45;text-muted: #6b7280;-->
<!--            &#45;&#45;accent-purple: #9333ea;-->
<!--            &#45;&#45;accent-pink: #db2777;-->
<!--            &#45;&#45;accent-orange: #f97316;-->
<!--            &#45;&#45;accent-blue: #3b82f6;-->
<!--            &#45;&#45;accent-green: #10b981;-->

<!--            /* Spacing & Radius */-->
<!--            &#45;&#45;radius-lg: 24px;-->
<!--            &#45;&#45;radius-md: 16px;-->
<!--            &#45;&#45;radius-sm: 12px;-->
<!--            &#45;&#45;shadow-soft: 0 10px 40px -10px rgba(0,0,0,0.08);-->
<!--            &#45;&#45;shadow-card: 0 4px 6px -1px rgba(0,0,0,0.05), 0 2px 4px -1px rgba(0,0,0,0.03);-->
<!--        }-->

<!--        * { box-sizing: border-box; margin: 0; padding: 0; }-->
<!--        html { scroll-behavior: smooth; }-->

<!--        body {-->
<!--            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;-->
<!--            background-color: var(&#45;&#45;bg-color);-->
<!--            color: var(&#45;&#45;text-main);-->
<!--            line-height: 1.6;-->
<!--            background-image:-->
<!--                radial-gradient(at 0% 0%, rgba(168, 85, 247, 0.1) 0px, transparent 50%),-->
<!--                radial-gradient(at 100% 0%, rgba(236, 72, 153, 0.1) 0px, transparent 50%);-->
<!--            background-attachment: fixed;-->
<!--        }-->

<!--        .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }-->

<!--        /* -&#45;&#45; Navigation -&#45;&#45; */-->
<!--        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; margin-bottom: 40px; }-->
<!--        .logo { font-size: 1.8rem; font-weight: 800; letter-spacing: -0.5px; }-->
<!--        .logo span:first-child { color: var(&#45;&#45;accent-purple); }-->
<!--        .logo span:last-child { color: var(&#45;&#45;text-main); }-->

<!--        .nav-links { display: flex; gap: 30px; align-items: center; }-->
<!--        .nav-links a { text-decoration: none; color: var(&#45;&#45;text-muted); font-weight: 600; font-size: 0.95rem; transition: color 0.2s; }-->
<!--        .nav-links a:hover { color: var(&#45;&#45;accent-purple); }-->

<!--        /* -&#45;&#45; Hero -&#45;&#45; */-->
<!--        .hero { text-align: center; margin-bottom: 60px; position: relative; }-->
<!--        .hero h1 { font-size: 4.5rem; font-weight: 800; line-height: 1.1; margin-bottom: 20px; letter-spacing: -1.5px; }-->
<!--        .hero-title-gradient { background: var(&#45;&#45;primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }-->
<!--        .hero p { font-size: 1.25rem; color: var(&#45;&#45;text-muted); max-width: 700px; margin: 0 auto 40px auto; font-weight: 500; }-->
<!--        .highlight-blue { color: var(&#45;&#45;accent-blue); font-weight: 700; }-->
<!--        .highlight-purple { color: var(&#45;&#45;accent-purple); font-weight: 700; }-->

<!--        /* -&#45;&#45; Stats -&#45;&#45; */-->
<!--        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; margin-bottom: 60px; }-->
<!--        .stat-card { background: white; padding: 24px; border-radius: var(&#45;&#45;radius-md); box-shadow: var(&#45;&#45;shadow-soft); border: 1px solid white; text-align: center; transition: transform 0.2s; }-->
<!--        .stat-card:hover { transform: translateY(-5px); }-->
<!--        .stat-number { font-size: 2.5rem; font-weight: 800; margin-bottom: 4px; }-->
<!--        .stat-label { font-size: 0.9rem; color: var(&#45;&#45;text-muted); font-weight: 600; }-->
<!--        .text-purple { color: var(&#45;&#45;accent-purple); }-->
<!--        .text-orange { color: var(&#45;&#45;accent-orange); }-->
<!--        .text-blue { color: #06b6d4; }-->

<!--        /* -&#45;&#45; Input -&#45;&#45; */-->
<!--        .input-wrapper { background: white; padding: 40px; border-radius: var(&#45;&#45;radius-lg); box-shadow: var(&#45;&#45;shadow-soft); margin-bottom: 80px; position: relative; overflow: hidden; border: 1px solid #e5e7eb; }-->
<!--        .input-header { text-align: center; margin-bottom: 30px; }-->
<!--        .input-header h2 { font-size: 2.5rem; margin-bottom: 10px; font-weight: 800; }-->

<!--        .chip-container { display: flex; justify-content: center; gap: 10px; margin-top: 20px; flex-wrap: wrap; }-->
<!--        .chip { background: #f3f4f6; border: 1px solid #e5e7eb; padding: 8px 16px; border-radius: 50px; font-size: 0.9rem; color: var(&#45;&#45;text-main); cursor: pointer; transition: all 0.2s; font-weight: 600; }-->
<!--        .chip:hover { background: white; border-color: var(&#45;&#45;accent-purple); color: var(&#45;&#45;accent-purple); box-shadow: 0 2px 8px rgba(147, 51, 234, 0.15); }-->

<!--        .prompt-box { background: #f9fafb; border: 2px solid #e5e7eb; border-radius: var(&#45;&#45;radius-md); padding: 20px; margin-top: 30px; position: relative; transition: border-color 0.2s; }-->
<!--        .prompt-box:focus-within { border-color: var(&#45;&#45;accent-purple); background: white; }-->

<!--        textarea { width: 100%; border: none; background: transparent; font-size: 1.1rem; font-family: inherit; resize: none; outline: none; color: var(&#45;&#45;text-main); min-height: 80px; }-->

<!--        .analyze-btn-container { display: flex; justify-content: flex-end; margin-top: 15px; align-items: center; gap: 15px; }-->
<!--        .char-count { font-size: 0.85rem; color: var(&#45;&#45;text-muted); font-weight: 500; }-->

<!--        .btn-cta { background: var(&#45;&#45;primary-gradient); color: white; padding: 12px 28px; border-radius: 50px; font-weight: 700; text-decoration: none; box-shadow: 0 4px 12px rgba(236, 72, 153, 0.3); transition: transform 0.2s; border: none; cursor: pointer; font-family: 'Plus Jakarta Sans', sans-serif; }-->
<!--        .btn-cta:hover { transform: translateY(-2px); }-->
<!--        .btn-cta:disabled { opacity: 0.7; cursor: not-allowed; }-->

<!--        /* -&#45;&#45; Results -&#45;&#45; */-->
<!--        .results-container { margin-top: 30px; display: none; animation: fadeIn 0.5s ease; }-->
<!--        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }-->

<!--        .result-card { background: #ecfdf5; border: 1px solid #10b981; border-radius: var(&#45;&#45;radius-md); padding: 20px; margin-bottom: 20px; position: relative; }-->
<!--        .result-label { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 800; color: #047857; margin-bottom: 8px; display: block; }-->

<!--        .editable-result-wrapper { position: relative; }-->
<!--        .rewritten-text-editable { font-family: 'JetBrains Mono', monospace; font-size: 1.05rem; color: #064e3b; width: 100%; background: rgba(255,255,255,0.6); border: 1px solid #6ee7b7; border-radius: 8px; padding: 15px; padding-right: 50px; min-height: 100px; outline: none; transition: all 0.2s; }-->
<!--        .rewritten-text-editable:focus { background: white; border-color: #059669; box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2); }-->

<!--        .copy-btn { position: absolute; top: 10px; right: 10px; background: white; border: 1px solid #d1fae5; color: #059669; width: 35px; height: 35px; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; }-->
<!--        .copy-btn:hover { background: #059669; color: white; }-->

<!--        .insight-box { background: #eff6ff; border: 1px solid #bfdbfe; border-radius: var(&#45;&#45;radius-md); padding: 20px; margin-bottom: 20px; display: flex; gap: 15px; align-items: flex-start; }-->
<!--        .insight-icon { font-size: 1.2rem; background: #dbeafe; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; flex-shrink: 0; }-->

<!--        .bias-tags { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }-->
<!--        .bias-tag { padding: 4px 12px; border-radius: 4px; font-size: 0.8rem; font-weight: 700; text-transform: uppercase; }-->
<!--        .tag-warning { background: #fff7ed; color: #c2410c; border: 1px solid #fdba74; }-->
<!--        /* NEW: Added Green Tag */-->
<!--        .tag-success { background: #ecfdf5; color: #047857; border: 1px solid #6ee7b7; }-->

<!--        /* -&#45;&#45; Feedback System -&#45;&#45; */-->
<!--        .feedback-box { background: white; border-top: 1px solid #e5e7eb; padding-top: 25px; margin-top: 30px; text-align: center; }-->
<!--        .feedback-title { font-size: 1rem; font-weight: 700; margin-bottom: 15px; color: var(&#45;&#45;text-main); }-->
<!--        .slider-container { display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 20px; max-width: 400px; margin-left: auto; margin-right: auto; }-->
<!--        .slider-emoji { font-size: 2rem; min-width: 40px; transition: transform 0.2s; }-->

<!--        input[type=range] { -webkit-appearance: none; width: 100%; height: 8px; background: #e5e7eb; border-radius: 5px; outline: none; opacity: 0.7; transition: opacity .2s; }-->
<!--        input[type=range]:hover { opacity: 1; }-->
<!--        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 24px; height: 24px; border-radius: 50%; background: var(&#45;&#45;accent-purple); cursor: pointer; box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.2); transition: transform 0.1s; }-->

<!--        .rating-label { font-size: 0.85rem; color: var(&#45;&#45;accent-purple); font-weight: 700; min-width: 80px; text-align: left; }-->
<!--        .feedback-chat-area { max-width: 500px; margin: 0 auto 15px auto; }-->
<!--        .feedback-input { width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 12px; font-family: inherit; font-size: 0.9rem; transition: all 0.2s; resize: vertical; min-height: 80px; }-->
<!--        .feedback-input:focus { border-color: var(&#45;&#45;accent-purple); outline: none; background: #faf5ff; }-->

<!--        .btn-feedback { background: var(&#45;&#45;text-main); color: white; padding: 8px 24px; border-radius: 8px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.2s; border: none; }-->
<!--        .btn-feedback:hover { background: #000; transform: translateY(-1px); }-->
<!--        .feedback-success { display: none; color: var(&#45;&#45;accent-green); font-weight: 700; font-size: 1rem; animation: fadeIn 0.3s; padding: 20px; background: #ecfdf5; border-radius: 12px; }-->

<!--        /* -&#45;&#45; Educational Cards -&#45;&#45; */-->
<!--        .section-title { text-align: center; margin-bottom: 40px; padding-top: 40px; }-->
<!--        .section-title h2 { font-size: 2.5rem; font-weight: 800; }-->
<!--        .section-title span { color: var(&#45;&#45;accent-purple); }-->

<!--        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; margin-bottom: 80px; }-->
<!--        .flip-card { background-color: transparent; height: 440px; perspective: 1000px; cursor: pointer; }-->
<!--        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: left; transition: transform 0.6s; transform-style: preserve-3d; border-radius: var(&#45;&#45;radius-lg); box-shadow: var(&#45;&#45;shadow-soft); }-->
<!--        .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }-->
<!--        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: var(&#45;&#45;radius-lg); padding: 30px; display: flex; flex-direction: column; justify-content: space-between; }-->
<!--        .flip-card-front { background-color: white; color: black; border: 1px solid rgba(0,0,0,0.02); }-->
<!--        .flip-card-back { background: var(&#45;&#45;text-main); color: white; transform: rotateY(180deg); padding: 30px; justify-content: center; align-items: flex-start; }-->
<!--        .flip-card-back h4 { color: var(&#45;&#45;accent-orange); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 15px; font-weight: 700; }-->
<!--        .flip-card-back p { font-size: 0.95rem; margin-bottom: 15px; color: #d1d5db; }-->
<!--        .tap-hint { position: absolute; top: 15px; right: 15px; font-size: 0.8rem; color: var(&#45;&#45;text-muted); background: #f3f4f6; padding: 4px 8px; border-radius: 12px; opacity: 0.7; font-weight: 600; }-->

<!--        .icon-box { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; font-size: 1.5rem; }-->
<!--        .icon-red { background: #fef2f2; color: #ef4444; }-->
<!--        .icon-purple { background: #f3e8ff; color: #9333ea; }-->
<!--        .icon-orange { background: #fff7ed; color: #f97316; }-->
<!--        .icon-green { background: #ecfdf5; color: #10b981; }-->
<!--        .did-you-know { background: #fafafa; border: 1px solid #e5e7eb; border-radius: var(&#45;&#45;radius-sm); padding: 15px; font-size: 0.85rem; color: var(&#45;&#45;text-muted); display: flex; gap: 10px; align-items: flex-start; margin-top: auto; }-->

<!--        /* -&#45;&#45; Principles -&#45;&#45; */-->
<!--        .feature-card { background: white; padding: 20px; border-radius: var(&#45;&#45;radius-lg); box-shadow: var(&#45;&#45;shadow-soft); }-->
<!--        .icon-blue { background: #e0f2fe; color:#0284c7; }-->
<!--        .icon-pink { background: #fce7f3; color:#db2777; }-->

<!--        .disclaimer-box { text-align: center; font-size: 0.85rem; color: var(&#45;&#45;text-muted); background: #e5e7eb; padding: 20px; border-radius: var(&#45;&#45;radius-md); margin-bottom: 40px; border: 1px solid #d1d5db; }-->
<!--        .hidden { display: none !important; }-->

<!--    </style>-->
<!--</head>-->
<!--<body>-->

<!--    <div class="container">-->
<!--        <nav class="navbar">-->
<!--            <div class="logo">-->
<!--                <span>STEM</span><span>agine</span>-->
<!--            </div>-->
<!--            <div class="nav-links">-->
<!--                <a href="#analyze">Analyze</a>-->
<!--                <a href="#problem">The Problem</a>-->
<!--                <a href="#principles">Principles</a>-->
<!--                <a href="#contact" style="color: var(&#45;&#45;accent-pink);">Report Issue</a>-->
<!--            </div>-->
<!--        </nav>-->

<!--        <header class="hero">-->
<!--            <h1><span class="hero-title-gradient">STEMagine</span></h1>-->
<!--            <p>-->
<!--                A <span class="highlight-blue">bias-aware</span> image prompt assistant. Create inclusive prompts that represent the <span class="highlight-purple">true diversity</span> of scientists, engineers, and innovators.-->
<!--            </p>-->
<!--        </header>-->

<!--        <div class="stats-row">-->
<!--            <div class="stat-card">-->
<!--                <div class="stat-number text-orange">87%</div>-->
<!--                <div class="stat-label">of images generated by AI tools feature lighter skin tones by default</div>-->
<!--                <small class="source-citation">-->
<!--                    Based on: <em>Algorithmic bias in image-generating artificial intelligence: prevalence and user perceptions</em>-->
<!--                </small>-->
<!--            </div>-->
<!--            <div class="stat-card">-->
<!--                <div class="stat-number text-purple">28%</div>-->
<!--                <div class="stat-label">of the global STEM workforce are women</div>-->
<!--                <small class="source-citation">-->
<!--                    Source: <a href="https://www.unesco.org/reports/science/2021/en/women-digital-revolution" target="_blank">UNESCO Science Report</a>-->
<!--                </small>-->
<!--            </div>-->
<!--            <div class="stat-card">-->
<!--                <div class="stat-number text-blue">‚àû</div>-->
<!--                <div class="stat-label">The potential for change through inclusive prompting</div>-->
<!--                <small class="source-citation">-->
<!--                    Join the movement to align GenAI with societal diversity.-->
<!--                </small>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div id="analyze" class="input-wrapper">-->
<!--            <div class="input-header">-->
<!--                <h2>Analyze Your <span class="hero-title-gradient">Prompt</span></h2>-->
<!--                <p style="color: var(&#45;&#45;text-muted);">Enter an image generation prompt and we'll analyze it for potential biases.</p>-->

<!--                <div class="chip-container">-->
<!--                    <div class="chip" onclick="fillPrompt('Portrait of a brilliant scientist')">‚ú® Scientist</div>-->
<!--                    <div class="chip" onclick="fillPrompt('A successful startup founder')">üöÄ Founder</div>-->
<!--                    <div class="chip" onclick="fillPrompt('An engineer working on a bridge')">üèóÔ∏è Engineer</div>-->
<!--                    <div class="chip" onclick="fillPrompt('A mathematician solving equations')">üìê Mathematician</div>-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="prompt-box">-->
<!--                <div style="display: flex; gap: 10px; margin-bottom: 10px; color: var(&#45;&#45;accent-blue); font-weight: 700; font-size: 0.9rem;">-->
<!--                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>-->
<!--                    Your Image Prompt-->
<!--                </div>-->
<!--                <textarea id="promptInput" placeholder="e.g., A photo of a successful startup founder in a modern office..."></textarea>-->

<!--                <div class="analyze-btn-container">-->
<!--                    <span id="charCount" class="char-count">0 characters</span>-->
<!--                    <button id="analyzeBtn" class="btn-cta" style="border-radius: 8px;">-->
<!--                        Analyze Prompt-->
<!--                    </button>-->
<!--                </div>-->
<!--            </div>-->

<!--            <div id="resultsSection" class="results-container">-->
<!--                <div id="biasTagsContainer" class="bias-tags">-->
<!--                    </div>-->

<!--                <div class="result-card">-->
<!--                    <span class="result-label">‚ú® Inclusive Rewrite (Mitigation Engine)</span>-->
<!--                    <div class="editable-result-wrapper">-->
<!--                        <textarea id="rewriteText" class="rewritten-text-editable" spellcheck="false" placeholder="Waiting for analysis..."></textarea>-->
<!--                        <button class="copy-btn" id="copyBtn" title="Copy to clipboard">-->
<!--                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="insight-box">-->
<!--                    <div class="insight-icon">üí°</div>-->
<!--                    <div>-->
<!--                        <h4 style="margin-bottom: 5px; color: #1e3a8a; font-size: 0.95rem; font-weight: 700;">Why this rewritten prompt?</h4>-->
<!--                        <p style="font-size: 0.9rem; color: #1e40af; line-height: 1.5;">-->
<!--                            The suggested prompt is designed to be inclusive and to raise awareness about exclusion in portrayals of STEM professionals. Some forms of exclusion may be implicit or not readily visible in images. This prompt encourages users to reflect on representation and to promote equitable and mindful use of visual materials.-->
<!--                        </p>-->
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="feedback-box">-->
<!--                    <div id="feedbackForm">-->
<!--                        <p class="feedback-title">Rate & Review this suggestion</p>-->

<!--                        <div class="slider-container">-->
<!--                            <span id="sliderEmoji" class="slider-emoji">üòê</span>-->
<!--                            <input type="range" min="1" max="5" value="3" class="slider" id="ratingSlider">-->
<!--                            <span id="sliderLabel" class="rating-label">Neutral</span>-->
<!--                        </div>-->

<!--                        <div class="feedback-chat-area">-->
<!--                            <textarea id="feedbackComment" class="feedback-input" placeholder="What did you think of this result? How can we improve?"></textarea>-->
<!--                        </div>-->

<!--                        <button class="btn-feedback" id="submitFeedbackBtn">Send Feedback</button>-->
<!--                    </div>-->
<!--                    <div id="feedbackSuccess" class="feedback-success">-->
<!--                        üéâ Thanks for your feedback! Your opinion helps us train the model better.-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div id="problem" class="section-title">-->
<!--            <h2>Why This <span class="highlight-purple">Matters</span></h2>-->
<!--            <p style="color: var(&#45;&#45;text-muted); font-weight: 500;">Text-to-image models default to stereotypical representations.</p>-->
<!--            <p style="font-size: 0.85rem; color: var(&#45;&#45;accent-pink); margin-top: 10px;">(Click cards to see sources)</p>-->
<!--        </div>-->

<!--        <div class="cards-grid">-->

<!--            <div class="flip-card" onclick="this.classList.toggle('flipped')">-->
<!--                <div class="flip-card-inner">-->
<!--                    <div class="flip-card-front">-->
<!--                        <div class="tap-hint">‚Üª Click</div>-->
<!--                        <div>-->
<!--                            <div class="icon-box icon-red">-->
<!--                                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>-->
<!--                            </div>-->
<!--                            <h3>Gender Bias</h3>-->
<!--                            <p>AI models default to male representation for STEM professions. Without specification, nearly 100% of generated scientists are portrayed as male.</p>-->
<!--                        </div>-->
<!--                        <div class="did-you-know">-->
<!--                            <span>üéì</span>-->
<!--                            <span><strong>Did you know?</strong> Only 28% of STEM researchers globally are women.</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="flip-card-back">-->
<!--                        <h4>Source & Evidence</h4>-->
<!--                        <p>"Women in Science" Fact Sheet No. 55.</p>-->
<!--                        <p style="color: white; font-weight: bold;">UNESCO Institute for Statistics (2024)</p>-->
<!--                        <p>Currently, less than 30% of researchers worldwide are women. AI amplifies this gap by erasing them almost entirely from visual datasets.</p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="flip-card" onclick="this.classList.toggle('flipped')">-->
<!--                <div class="flip-card-inner">-->
<!--                    <div class="flip-card-front">-->
<!--                        <div class="tap-hint">‚Üª Click</div>-->
<!--                        <div>-->
<!--                            <div class="icon-box icon-purple">-->
<!--                                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>-->
<!--                            </div>-->
<!--                            <h3>Racial Homogeneity</h3>-->
<!--                            <p>People of color are rarely represented unless explicitly specified. AI defaults to Western/white representation for most professional contexts.</p>-->
<!--                        </div>-->
<!--                        <div class="did-you-know">-->
<!--                            <span>üåç</span>-->
<!--                            <span><strong>Did you know?</strong> Black women earn only 2.5% of computing degrees in the US.</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="flip-card-back">-->
<!--                        <h4>Source & Evidence</h4>-->
<!--                        <p>"Science and Engineering Indicators"</p>-->
<!--                        <p style="color: white; font-weight: bold;">National Science Foundation (NSF) & NCES</p>-->
<!--                        <p>Underrepresented minorities constitute a fraction of the STEM workforce. Generative AI reflects the biases of its internet training data, which skews heavily Western.</p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="flip-card" onclick="this.classList.toggle('flipped')">-->
<!--                <div class="flip-card-inner">-->
<!--                    <div class="flip-card-front">-->
<!--                        <div class="tap-hint">‚Üª Click</div>-->
<!--                        <div>-->
<!--                            <div class="icon-box icon-orange">-->
<!--                                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>-->
<!--                            </div>-->
<!--                            <h3>Age Stereotyping</h3>-->
<!--                            <p>Female professionals are often portrayed younger (beauty standards), while male scientists are shown as elderly‚Äîperpetuating the "Einstein" trope.</p>-->
<!--                        </div>-->
<!--                        <div class="did-you-know">-->
<!--                            <span>üìâ</span>-->
<!--                            <span><strong>Did you know?</strong> The 'Einstein effect' excludes young innovators.</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="flip-card-back">-->
<!--                        <h4>Source & Evidence</h4>-->
<!--                        <p>"Global AI Narratives Project"</p>-->
<!--                        <p style="color: white; font-weight: bold;">Leverhulme Centre for the Future of Intelligence</p>-->
<!--                        <p>Visual analysis of 10,000 AI generated images confirms: "Scientist" prompts yield older white men, while "Assistant" prompts yield young women.</p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="flip-card" onclick="this.classList.toggle('flipped')">-->
<!--                <div class="flip-card-inner">-->
<!--                    <div class="flip-card-front">-->
<!--                        <div class="tap-hint">‚Üª Click</div>-->
<!--                        <div>-->
<!--                            <div class="icon-box icon-green">-->
<!--                                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 24px; height: 24px;"><circle cx="12" cy="12" r="10"></circle><path d="M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6"></path><path d="M6 15v5"></path><path d="M18 15v5"></path><path d="M6 15h12"></path></svg>-->
<!--                            </div>-->
<!--                            <h3>Disability Erasure</h3>-->
<!--                            <p>AI generates 'able-bodied' individuals by default. People with visible disabilities are virtually non-existent in generated professional settings.</p>-->
<!--                        </div>-->
<!--                        <div class="did-you-know">-->
<!--                            <span>‚ôø</span>-->
<!--                            <span><strong>Did you know?</strong> 16% of the global population experiences significant disability.</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="flip-card-back">-->
<!--                        <h4>Source & Evidence</h4>-->
<!--                        <p>"Global Report on Health Equity"</p>-->
<!--                        <p style="color: white; font-weight: bold;">World Health Organization (WHO, 2023)</p>-->
<!--                        <p>Despite 1.3 billion people living with disabilities, AI training datasets often exclude them, leading to "symbolic annihilation" in generated media.</p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--        </div>-->

<!--        <div class="quote-section">-->
<!--            <p class="quote-text">-->
<!--                "Visual representations shape how we perceive who belongs in STEM. When AI consistently shows scientists as white men, it reinforces centuries-old barriers to inclusion."-->
<!--            </p>-->
<!--            <p class="quote-author">‚Äî Intersectionality Framework, Kimberl√© Crenshaw</p>-->
<!--        </div>-->

<!--        <div id="principles" class="section-title">-->
<!--            <h2>Values & <span class="highlight-purple">Principles</span></h2>-->
<!--        </div>-->

<!--        <div class="cards-grid" style="margin-bottom: 40px;">-->
<!--            <div class="feature-card">-->
<!--                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">-->
<!--                    <div class="icon-box icon-blue" style="margin:0; width:36px; height:36px; font-size:1rem;">‚öñÔ∏è</div>-->
<!--                    <h4 style="margin:0; font-weight: 700;">Fairness</h4>-->
<!--                </div>-->
<!--                <p style="font-size:0.9rem; margin:0; color: var(&#45;&#45;text-muted);">AI systems should not perpetuate harmful stereotypes.</p>-->
<!--            </div>-->
<!--            <div class="feature-card">-->
<!--                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">-->
<!--                    <div class="icon-box icon-pink" style="margin:0; width:36px; height:36px; font-size:1rem;">‚ù§Ô∏è</div>-->
<!--                    <h4 style="margin:0; font-weight: 700;">Human Dignity</h4>-->
<!--                </div>-->
<!--                <p style="font-size:0.9rem; margin:0; color: var(&#45;&#45;text-muted);">Respect for the inherent dignity of all people.</p>-->
<!--            </div>-->
<!--             <div class="feature-card">-->
<!--                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">-->
<!--                    <div class="icon-box icon-purple" style="margin:0; width:36px; height:36px; font-size:1rem;">üë•</div>-->
<!--                    <h4 style="margin:0; font-weight: 700;">Diversity</h4>-->
<!--                </div>-->
<!--                <p style="font-size:0.9rem; margin:0; color: var(&#45;&#45;text-muted);">Outputs should reflect the true diversity of humanity.</p>-->
<!--            </div>-->
<!--            <div class="feature-card">-->
<!--                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">-->
<!--                    <div class="icon-box icon-green" style="margin:0; width:36px; height:36px; font-size:1rem; background: #ecfdf5; color: #10b981;">üîç</div>-->
<!--                    <h4 style="margin:0; font-weight: 700;">Transparency</h4>-->
<!--                </div>-->
<!--                <p style="font-size:0.9rem; margin:0; color: var(&#45;&#45;text-muted);">Users should understand how AI decisions are made and data is used.</p>-->
<!--            </div>-->

<!--            <div class="feature-card">-->
<!--                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">-->
<!--                    <div class="icon-box icon-orange" style="margin:0; width:36px; height:36px; font-size:1rem; background: #fff7ed; color: #f97316;">üõ°Ô∏è</div>-->
<!--                    <h4 style="margin:0; font-weight: 700;">Accountability</h4>-->
<!--                </div>-->
<!--                <p style="font-size:0.9rem; margin:0; color: var(&#45;&#45;text-muted);">Developers are responsible for the ethical impact of their tools.</p>-->
<!--            </div>-->
<!--        </div>-->

<!--        <div class="disclaimer-box">-->
<!--            <strong>‚ö†Ô∏è Disclaimer:</strong> The outputs generated by this tool are limited to the training data and the underlying model‚Äôs potential. We cannot guarantee full accuracy. With your feedback, we are continuously improving our bias detection algorithms.-->
<!--        </div>-->

<!--        <div id="contact" style="text-align: center; margin-bottom: 40px; color: var(&#45;&#45;text-muted); font-size: 0.9rem;">-->
<!--            Made with ‚ù§Ô∏è by Tuana, Marina, Rebecca, Sohaib & Heval ‚Äî Technical University of Munich<br>-->
<!--            <span style="color: var(&#45;&#45;accent-purple); font-weight: bold; margin-top: 10px; display: inline-block;">-->
<!--                üìß Contact: support@stemagine.edu-->
<!--            </span>-->
<!--        </div>-->

<!--    </div>-->

<!--    <script>-->
<!--        const promptInput = document.getElementById('promptInput');-->
<!--        const analyzeBtn = document.getElementById('analyzeBtn');-->
<!--        const resultsSection = document.getElementById('resultsSection');-->
<!--        const rewriteText = document.getElementById('rewriteText');-->
<!--        const charCount = document.getElementById('charCount');-->
<!--        const copyBtn = document.getElementById('copyBtn');-->
<!--        const biasTagsContainer = document.getElementById('biasTagsContainer');-->

<!--        // Feedback Elements-->
<!--        const feedbackForm = document.getElementById('feedbackForm');-->
<!--        const feedbackSuccess = document.getElementById('feedbackSuccess');-->
<!--        const ratingSlider = document.getElementById('ratingSlider');-->
<!--        const sliderEmoji = document.getElementById('sliderEmoji');-->
<!--        const sliderLabel = document.getElementById('sliderLabel');-->
<!--        const submitFeedbackBtn = document.getElementById('submitFeedbackBtn');-->
<!--        const feedbackComment = document.getElementById('feedbackComment');-->

<!--        // Update character count-->
<!--        promptInput.addEventListener('input', (e) => {-->
<!--            charCount.textContent = `${e.target.value.length} characters`;-->
<!--        });-->

<!--        // Function to fill example prompt-->
<!--        function fillPrompt(text) {-->
<!--            promptInput.value = text;-->
<!--            charCount.textContent = `${text.length} characters`;-->
<!--            // Scroll to input if needed-->
<!--            promptInput.scrollIntoView({ behavior: 'smooth', block: 'center' });-->
<!--        }-->

<!--        // -&#45;&#45; Copy to Clipboard Logic -&#45;&#45;-->
<!--        copyBtn.addEventListener('click', () => {-->
<!--            // Select text-->
<!--            rewriteText.select();-->
<!--            rewriteText.setSelectionRange(0, 99999); // Mobile support-->

<!--            // Copy-->
<!--            navigator.clipboard.writeText(rewriteText.value).then(() => {-->
<!--                const originalHTML = copyBtn.innerHTML;-->
<!--                copyBtn.innerHTML = '‚úì';-->
<!--                copyBtn.style.color = '#10b981';-->
<!--                copyBtn.style.borderColor = '#10b981';-->

<!--                setTimeout(() => {-->
<!--                    copyBtn.innerHTML = originalHTML;-->
<!--                    copyBtn.style.color = '';-->
<!--                    copyBtn.style.borderColor = '';-->
<!--                }, 2000);-->
<!--            });-->
<!--        });-->

<!--        // -&#45;&#45; FEEDBACK SLIDER LOGIC -&#45;&#45;-->
<!--        const ratings = {-->
<!--            1: { emoji: 'üò†', label: 'Bad' },-->
<!--            2: { emoji: 'üòï', label: 'Poor' },-->
<!--            3: { emoji: 'üòê', label: 'Neutral' },-->
<!--            4: { emoji: 'üôÇ', label: 'Good' },-->
<!--            5: { emoji: 'ü§©', label: 'Perfect' }-->
<!--        };-->

<!--        ratingSlider.addEventListener('input', (e) => {-->
<!--            const val = e.target.value;-->
<!--            sliderEmoji.textContent = ratings[val].emoji;-->
<!--            sliderEmoji.style.transform = 'scale(1.2)';-->
<!--            setTimeout(() => sliderEmoji.style.transform = 'scale(1)', 100);-->
<!--            sliderLabel.textContent = ratings[val].label;-->
<!--        });-->

<!--        // -&#45;&#45; SUBMIT FEEDBACK TO CLOUD -&#45;&#45;-->
<!--        submitFeedbackBtn.addEventListener('click', async () => {-->
<!--            const rating = ratingSlider.value;-->
<!--            const comment = feedbackComment.value.trim();-->
<!--            const originalPrompt = promptInput.value.trim();-->

<!--            // UI Loading state-->
<!--            submitFeedbackBtn.textContent = "Sending...";-->
<!--            submitFeedbackBtn.disabled = true;-->

<!--            // Construct payload string to save context-->
<!--            const payload = `[RATING: ${rating}/5] [COMMENT: ${comment}] [ORIGINAL PROMPT: ${originalPrompt}]`;-->

<!--            try {-->
<!--                // Send to backend route-->
<!--                const response = await fetch('/feedback', {-->
<!--                    method: 'POST',-->
<!--                    headers: { 'Content-Type': 'application/json' },-->
<!--                    body: JSON.stringify({ prompt: payload })-->
<!--                });-->

<!--                if(response.ok) {-->
<!--                    feedbackForm.style.display = 'none';-->
<!--                    feedbackSuccess.style.display = 'block';-->
<!--                } else {-->
<!--                    alert("Error sending feedback. Please try again.");-->
<!--                }-->
<!--            } catch (e) {-->
<!--                console.error(e);-->
<!--                alert("Connection error.");-->
<!--            } finally {-->
<!--                submitFeedbackBtn.textContent = "Send Feedback";-->
<!--                submitFeedbackBtn.disabled = false;-->
<!--            }-->
<!--        });-->

<!--        // -&#45;&#45; REAL ANALYZE LOGIC -&#45;&#45;-->
<!--        analyzeBtn.addEventListener('click', async () => {-->
<!--            const input = promptInput.value.trim();-->
<!--            if (input === "") return;-->

<!--            // 1. Reset UI-->
<!--            feedbackForm.style.display = 'block';-->
<!--            feedbackSuccess.style.display = 'none';-->
<!--            feedbackComment.value = "";-->
<!--            ratingSlider.value = 3;-->
<!--            sliderEmoji.textContent = 'üòê';-->
<!--            sliderLabel.textContent = 'Neutral';-->
<!--            biasTagsContainer.innerHTML = ""; // Clear old tags-->
<!--            rewriteText.value = "Analyzing...";-->

<!--            // 2. Loading state-->
<!--            analyzeBtn.textContent = "Processing...";-->
<!--            analyzeBtn.disabled = true;-->
<!--            resultsSection.classList.add('hidden'); // Hide momentarily to restart animation-->
<!--            resultsSection.style.display = 'none';-->

<!--            try {-->
<!--                // 3. Call Backend API-->
<!--                const response = await fetch('/analyze', {-->
<!--                    method: 'POST',-->
<!--                    headers: { 'Content-Type': 'application/json' },-->
<!--                    body: JSON.stringify({ prompt: input })-->
<!--                });-->

<!--                const result = await response.json();-->

<!--                if (result.error) {-->
<!--                    alert(result.error);-->
<!--                    return;-->
<!--                }-->

<!--                // 4. Update Rewrite Text-->
<!--                if (result.rewritten) {-->
<!--                    rewriteText.value = result.rewritten;-->
<!--                } else {-->
<!--                    rewriteText.value = "No rewrite needed (Prompt is inclusive!)";-->
<!--                }-->

<!--                // 5. Generate Bias Tags (Traffic Light System)-->
<!--                const categories = ['Gender', 'Race', 'Disability', 'Age'];-->

<!--                categories.forEach(category => {-->
<!--                    const isGap = result.gaps && result.gaps.includes(category);-->

<!--                    // Create Badge Element-->
<!--                    const span = document.createElement('span');-->

<!--                    if (isGap) {-->
<!--                        span.className = 'bias-tag tag-warning';-->
<!--                        span.textContent = `‚ö†Ô∏è Missing ${category}`;-->
<!--                    } else {-->
<!--                        span.className = 'bias-tag tag-success'; // Green tag-->
<!--                        span.textContent = `‚úÖ ${category} Included`;-->
<!--                    }-->

<!--                    biasTagsContainer.appendChild(span);-->
<!--                });-->

<!--                // 6. Show Results-->
<!--                resultsSection.style.display = 'block';-->
<!--                resultsSection.classList.remove('hidden');-->

<!--            } catch (error) {-->
<!--                console.error('Error:', error);-->
<!--                alert('An error occurred during analysis');-->
<!--            } finally {-->
<!--                // 7. Reset button-->
<!--                analyzeBtn.textContent = "Analyze Prompt";-->
<!--                analyzeBtn.disabled = false;-->
<!--            }-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STEMagine - Aligning GenAI to Societal Values</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Palette */
            --primary-gradient: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
            --bg-color: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #111827;
            --text-muted: #6b7280;
            --accent-purple: #9333ea;
            --accent-pink: #db2777;
            --accent-orange: #f97316;
            --accent-blue: #3b82f6;
            --accent-green: #10b981;

            /* Spacing & Radius */
            --radius-lg: 24px;
            --radius-md: 16px;
            --radius-sm: 12px;
            --shadow-soft: 0 10px 40px -10px rgba(0,0,0,0.08);
            --shadow-card: 0 4px 6px -1px rgba(0,0,0,0.05), 0 2px 4px -1px rgba(0,0,0,0.03);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            background-image:
                radial-gradient(at 0% 0%, rgba(168, 85, 247, 0.1) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(236, 72, 153, 0.1) 0px, transparent 50%);
            background-attachment: fixed;
        }

        .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }

        /* --- Navigation --- */
        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; margin-bottom: 40px; }
        .logo { font-size: 1.8rem; font-weight: 800; letter-spacing: -0.5px; }
        .logo span:first-child { color: var(--accent-purple); }
        .logo span:last-child { color: var(--text-main); }

        .nav-links { display: flex; gap: 30px; align-items: center; }
        .nav-links a { text-decoration: none; color: var(--text-muted); font-weight: 600; font-size: 0.95rem; transition: color 0.2s; }
        .nav-links a:hover { color: var(--accent-purple); }

        /* --- Hero --- */
        .hero { text-align: center; margin-bottom: 60px; position: relative; }
        .hero h1 { font-size: 4.5rem; font-weight: 800; line-height: 1.1; margin-bottom: 20px; letter-spacing: -1.5px; }
        .hero-title-gradient { background: var(--primary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero p { font-size: 1.25rem; color: var(--text-muted); max-width: 700px; margin: 0 auto 40px auto; font-weight: 500; }
        .highlight-blue { color: var(--accent-blue); font-weight: 700; }
        .highlight-purple { color: var(--accent-purple); font-weight: 700; }

        /* --- Stats --- */
        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; margin-bottom: 60px; }
        .stat-card { background: white; padding: 24px; border-radius: var(--radius-md); box-shadow: var(--shadow-soft); border: 1px solid white; text-align: center; transition: transform 0.2s; }
        .stat-card:hover { transform: translateY(-5px); }
        .stat-number { font-size: 2.5rem; font-weight: 800; margin-bottom: 4px; }
        .stat-label { font-size: 0.9rem; color: var(--text-muted); font-weight: 600; }
        .text-orange { color: var(--accent-orange); }
        .text-purple { color: var(--accent-purple); }
        .text-blue { color: #06b6d4; }

        /* --- Input --- */
        .input-wrapper { background: white; padding: 40px; border-radius: var(--radius-lg); box-shadow: var(--shadow-soft); margin-bottom: 80px; position: relative; overflow: hidden; border: 1px solid #e5e7eb; }
        .input-header { text-align: center; margin-bottom: 30px; }
        .input-header h2 { font-size: 2.5rem; margin-bottom: 10px; font-weight: 800; }

        .chip-container { display: flex; justify-content: center; gap: 10px; margin-top: 20px; flex-wrap: wrap; }
        .chip { background: #f3f4f6; border: 1px solid #e5e7eb; padding: 8px 16px; border-radius: 50px; font-size: 0.9rem; color: var(--text-main); cursor: pointer; transition: all 0.2s; font-weight: 600; }
        .chip:hover { background: white; border-color: var(--accent-purple); color: var(--accent-purple); box-shadow: 0 2px 8px rgba(147, 51, 234, 0.15); }

        .prompt-box { background: #f9fafb; border: 2px solid #e5e7eb; border-radius: var(--radius-md); padding: 20px; margin-top: 30px; position: relative; transition: border-color 0.2s; }
        .prompt-box:focus-within { border-color: var(--accent-purple); background: white; }

        textarea { width: 100%; border: none; background: transparent; font-size: 1.1rem; font-family: inherit; resize: none; outline: none; color: var(--text-main); min-height: 80px; }

        .analyze-btn-container { display: flex; justify-content: flex-end; margin-top: 15px; align-items: center; gap: 15px; }
        .char-count { font-size: 0.85rem; color: var(--text-muted); font-weight: 500; }

        .btn-cta { background: var(--primary-gradient); color: white; padding: 12px 28px; border-radius: 50px; font-weight: 700; border: none; cursor: pointer; transition: transform 0.2s; font-family: 'Plus Jakarta Sans', sans-serif; }
        .btn-cta:hover { transform: translateY(-2px); }
        .btn-cta:disabled { opacity: 0.7; cursor: not-allowed; }

        /* --- Results --- */
        .results-container { margin-top: 30px; display: none; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .result-card { background: #ecfdf5; border: 1px solid #10b981; border-radius: var(--radius-md); padding: 20px; margin-bottom: 20px; position: relative; }
        .result-label { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 800; color: #047857; margin-bottom: 8px; display: block; }

        .editable-result-wrapper { position: relative; }
        .rewritten-text-editable { font-family: 'JetBrains Mono', monospace; font-size: 1.05rem; color: #064e3b; width: 100%; background: rgba(255,255,255,0.6); border: 1px solid #6ee7b7; border-radius: 8px; padding: 15px; padding-right: 50px; min-height: 100px; outline: none; transition: all 0.2s; }
        .rewritten-text-editable:focus { background: white; border-color: #059669; box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2); }

        .copy-btn { position: absolute; top: 10px; right: 10px; background: white; border: 1px solid #d1fae5; color: #059669; width: 35px; height: 35px; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; }
        .copy-btn:hover { background: #059669; color: white; }

        .insight-box { background: #eff6ff; border: 1px solid #bfdbfe; border-radius: var(--radius-md); padding: 20px; margin-bottom: 20px; display: flex; gap: 15px; align-items: flex-start; }
        .insight-icon { font-size: 1.2rem; background: #dbeafe; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; flex-shrink: 0; }

        .bias-tags { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }
        .bias-tag { padding: 4px 12px; border-radius: 4px; font-size: 0.8rem; font-weight: 700; text-transform: uppercase; }
        .tag-warning { background: #fff7ed; color: #c2410c; border: 1px solid #fdba74; }
        .tag-success { background: #ecfdf5; color: #047857; border: 1px solid #6ee7b7; }

        /* --- Feedback System --- */
        .feedback-box { background: white; border-top: 1px solid #e5e7eb; padding-top: 25px; margin-top: 30px; text-align: center; }
        .feedback-title { font-size: 1rem; font-weight: 700; margin-bottom: 15px; color: var(--text-main); }
        .slider-container { display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 20px; max-width: 400px; margin-left: auto; margin-right: auto; }
        .slider-emoji { font-size: 2rem; min-width: 40px; transition: transform 0.2s; }

        input[type=range] { -webkit-appearance: none; width: 100%; height: 8px; background: #e5e7eb; border-radius: 5px; outline: none; opacity: 0.7; transition: opacity .2s; }
        input[type=range]:hover { opacity: 1; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 24px; height: 24px; border-radius: 50%; background: var(--accent-purple); cursor: pointer; box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.2); transition: transform 0.1s; }

        .rating-label { font-size: 0.85rem; color: var(--accent-purple); font-weight: 700; min-width: 80px; text-align: left; }
        .feedback-chat-area { max-width: 500px; margin: 0 auto 15px auto; }
        .feedback-input { width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 12px; font-family: inherit; font-size: 0.9rem; transition: all 0.2s; resize: vertical; min-height: 80px; }
        .feedback-input:focus { border-color: var(--accent-purple); outline: none; background: #faf5ff; }

        .btn-feedback { background: var(--text-main); color: white; padding: 8px 24px; border-radius: 8px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.2s; border: none; }
        .btn-feedback:hover { background: #000; transform: translateY(-1px); }
        .feedback-success { display: none; color: var(--accent-green); font-weight: 700; font-size: 1rem; animation: fadeIn 0.3s; padding: 20px; background: #ecfdf5; border-radius: 12px; }

        /* --- Educational Cards --- */
        .section-title { text-align: center; margin-bottom: 40px; padding-top: 40px; }
        .section-title h2 { font-size: 2.5rem; font-weight: 800; }
        .section-title span { color: var(--accent-purple); }

        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; margin-bottom: 80px; }
        .flip-card { background-color: transparent; height: 440px; perspective: 1000px; cursor: pointer; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; text-align: left; transition: transform 0.6s; transform-style: preserve-3d; border-radius: var(--radius-lg); box-shadow: var(--shadow-soft); }
        .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: var(--radius-lg); padding: 30px; display: flex; flex-direction: column; justify-content: space-between; }
        .flip-card-front { background-color: white; color: black; border: 1px solid rgba(0,0,0,0.02); }
        .flip-card-back { background: var(--text-main); color: white; transform: rotateY(180deg); padding: 30px; justify-content: center; align-items: flex-start; }
        .flip-card-back h4 { color: var(--accent-orange); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 15px; font-weight: 700; }
        .flip-card-back p { font-size: 0.95rem; margin-bottom: 15px; color: #d1d5db; }
        .tap-hint { position: absolute; top: 15px; right: 15px; font-size: 0.8rem; color: var(--text-muted); background: #f3f4f6; padding: 4px 8px; border-radius: 12px; opacity: 0.7; font-weight: 600; }

        .icon-box { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; font-size: 1.5rem; }
        .icon-red { background: #fef2f2; color: #ef4444; }
        .icon-purple { background: #f3e8ff; color: #9333ea; }
        .icon-orange { background: #fff7ed; color: #f97316; }
        .icon-green { background: #ecfdf5; color: #10b981; }
        .did-you-know { background: #fafafa; border: 1px solid #e5e7eb; border-radius: var(--radius-sm); padding: 15px; font-size: 0.85rem; color: var(--text-muted); display: flex; gap: 10px; align-items: flex-start; margin-top: auto; }

        /* --- Principles --- */
        .feature-card { background: white; padding: 20px; border-radius: var(--radius-lg); box-shadow: var(--shadow-soft); }
        .icon-blue { background: #e0f2fe; color:#0284c7; }
        .icon-pink { background: #fce7f3; color:#db2777; }

        .disclaimer-box { text-align: center; font-size: 0.85rem; color: var(--text-muted); background: #e5e7eb; padding: 20px; border-radius: var(--radius-md); margin-bottom: 40px; border: 1px solid #d1d5db; }

        /* How It Works with Source Links */
        .info-card { background: white; padding: 40px; border-radius: var(--radius-lg); box-shadow: var(--shadow-soft); margin-bottom: 80px; border: 1px solid rgba(0,0,0,0.02); }
        .info-card h3 { font-size: 1.8rem; margin-bottom: 15px; color: var(--text-main); }
        .info-card p { color: var(--text-muted); font-size: 1.05rem; line-height: 1.7; }

        .source-link { font-size: 0.85rem; color: var(--text-muted); text-decoration: none; background: #f9fafb; padding: 6px 12px; border-radius: 50px; border: 1px solid #e5e7eb; transition: all 0.2s; display: inline-flex; align-items: center; gap: 6px; }
        .source-link:hover { border-color: var(--accent-purple); color: var(--accent-purple); background: white; transform: translateY(-2px); }

        .hidden { display: none !important; }

    </style>
</head>
<body>

    <div class="container">
        <nav class="navbar">
            <div class="logo">
                <span>STEM</span><span>agine</span>
            </div>
            <div class="nav-links">
                <a href="#analyze">Analyze</a>
                <a href="#problem">The Problem</a>
                <a href="#principles">Principles</a>
                <a href="#contact" style="color: var(--accent-pink);">Report Issue</a>
            </div>
        </nav>

        <header class="hero">
            <h1><span class="hero-title-gradient">STEMagine</span></h1>
            <p>
                A <span class="highlight-blue">bias-aware</span> image prompt assistant. Create inclusive prompts that represent the <span class="highlight-purple">true diversity</span> of scientists, engineers, and innovators.
            </p>
        </header>

        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-number text-orange">87%</div>
                <div class="stat-label">of images generated by AI tools have a white default</div>
            </div>
            <div class="stat-card">
                <div class="stat-number text-purple">28%</div>
                <div class="stat-label">of STEM professionals are women and underrepresented</div>
            </div>
            <div class="stat-card">
                <div class="stat-number text-blue">‚àû</div>
                <div class="stat-label">The potential for change is immense</div>
            </div>
        </div>

        <div id="analyze" class="input-wrapper">
            <div class="input-header">
                <h2>Analyze Your <span class="hero-title-gradient">Prompt</span></h2>
                <p style="color: var(--text-muted);">Enter an image generation prompt and we'll analyze it for potential biases.</p>

                <div class="chip-container">
                    <div class="chip" onclick="fillPrompt('Portrait of a brilliant scientist')">‚ú® Scientist</div>
                    <div class="chip" onclick="fillPrompt('A successful startup founder')">üöÄ Founder</div>
                    <div class="chip" onclick="fillPrompt('An engineer working on a bridge')">üèóÔ∏è Engineer</div>
                    <div class="chip" onclick="fillPrompt('A mathematician solving equations')">üìê Mathematician</div>
                </div>
            </div>

            <div class="prompt-box">
                <div style="display: flex; gap: 10px; margin-bottom: 10px; color: var(--accent-blue); font-weight: 700; font-size: 0.9rem;">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                    Your Image Prompt
                </div>
                <textarea id="promptInput" placeholder="e.g., A photo of a successful startup founder in a modern office..."></textarea>

                <div class="analyze-btn-container">
                    <span id="charCount" class="char-count">0 characters</span>
                    <button id="analyzeBtn" class="btn-cta" style="border-radius: 8px;">
                        Analyze Prompt
                    </button>
                </div>
            </div>

            <div id="resultsSection" class="results-container">
                <div id="biasTagsContainer" class="bias-tags"></div>

                <div class="result-card">
                    <span class="result-label">‚ú® Inclusive Rewrite (Mitigation Engine)</span>
                    <div class="editable-result-wrapper">
                        <textarea id="rewriteText" class="rewritten-text-editable" spellcheck="false" placeholder="Waiting for analysis..."></textarea>
                        <button class="copy-btn" id="copyBtn" title="Copy to clipboard">
                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>
                        </button>
                    </div>
                </div>

                <div class="insight-box">
                    <div class="insight-icon">üí°</div>
                    <div>
                        <h4 style="margin-bottom: 5px; color: #1e3a8a; font-size: 0.95rem; font-weight: 700;">Why this rewritten prompt?</h4>
                        <p style="font-size: 0.9rem; color: #1e40af; line-height: 1.5;">
                            The suggested prompt is designed to be inclusive and to raise awareness about exclusion in portrayals of STEM professionals.
                        </p>
                    </div>
                </div>

                <div class="feedback-box">
                    <div id="feedbackForm">
                        <p class="feedback-title">Rate & Review this suggestion</p>

                        <div class="slider-container">
                            <span id="sliderEmoji" class="slider-emoji">üòê</span>
                            <input type="range" min="1" max="5" value="3" class="slider" id="ratingSlider">
                            <span id="sliderLabel" class="rating-label">Neutral</span>
                        </div>

                        <div class="feedback-chat-area">
                            <textarea id="feedbackComment" class="feedback-input" placeholder="What did you think of this result? How can we improve?"></textarea>
                        </div>

                        <button class="btn-feedback" id="submitFeedbackBtn">Send Feedback</button>
                    </div>
                    <div id="feedbackSuccess" class="feedback-success">
                        üéâ Thanks for your feedback! Your opinion helps us train the model better.
                    </div>
                </div>
            </div>
        </div>

        <div class="info-card">
            <h3>How it works</h3>
            <p>
                STEMagine uses two specialized AI models to ensure your prompts are inclusive.
                First, a <strong>Bias Detector</strong> scans your text for missing demographic details like
                Race, Gender, Age, and Disability. If gaps are found, a second <strong>AI Rewriter</strong>
                suggests a new, naturally phrased prompt that fills those gaps with diverse attributes.
            </p>

            <div style="margin-top: 30px; border-top: 1px solid #f3f4f6; padding-top: 20px;">
                <p style="font-size: 0.9rem; font-weight: 600; color: var(--text-main); margin-bottom: 15px;">
                    Definitions & Frameworks based on:
                </p>
                <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                    <a href="https://www.census.gov/topics/population/race/about.html" target="_blank" class="source-link">
                        üèõÔ∏è US Census Bureau (Race)
                    </a>
                    <a href="https://www.pewresearch.org/topic/race-ethnicity/" target="_blank" class="source-link">
                        üìä Pew Research (Ethnicity)
                    </a>
                    <a href="https://glaad.org/reference/" target="_blank" class="source-link">
                        üåà GLAAD Reference
                    </a>
                    <a href="https://www.nidcd.nih.gov/health/cochlear-implants" target="_blank" class="source-link">
                        ü¶ª NIDCD (Cochlear)
                    </a>
                    <a href="https://my.clevelandclinic.org/health/symptoms/23154-neurodivergent" target="_blank" class="source-link">
                        üß† Cleveland Clinic (Neurodiversity)
                    </a>
                </div>
            </div>
        </div>

        <div id="problem" class="section-title">
            <div class="badge-pill" style="color: #ea580c; background: #ffedd5; border-color: #fed7aa; box-shadow: none;">
                ‚ö†Ô∏è CRITICAL AWARENESS
            </div>
            <h2>Why This <span class="highlight-purple">Matters</span></h2>
            <p style="color: var(--text-muted); font-weight: 500;">Text-to-image models default to stereotypical representations.</p>
            <p style="font-size: 0.85rem; color: var(--accent-pink); margin-top: 10px;">(Click cards to see sources)</p>
        </div>

        <div class="cards-grid">
            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <div class="tap-hint">‚Üª Click</div>
                        <div>
                            <div class="icon-box icon-red">
                                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                            </div>
                            <h3>Gender Bias</h3>
                            <p>AI models default to male representation for STEM professions. Without specification, nearly 100% of generated scientists are portrayed as male.</p>
                        </div>
                        <div class="did-you-know">
                            <span>üéì</span>
                            <span><strong>Did you know?</strong> Only 28% of STEM researchers globally are women.</span>
                        </div>
                    </div>
                    <div class="flip-card-back">
                        <h4>Source & Evidence</h4>
                        <p>"Women in Science" Fact Sheet No. 55.</p>
                        <p style="color: white; font-weight: bold;">UNESCO Institute for Statistics (2024)</p>
                        <p>Currently, less than 30% of researchers worldwide are women. AI amplifies this gap by erasing them almost entirely from visual datasets.</p>
                    </div>
                </div>
            </div>

            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <div class="tap-hint">‚Üª Click</div>
                        <div>
                            <div class="icon-box icon-purple">
                                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                            <h3>Racial Homogeneity</h3>
                            <p>People of color are rarely represented unless explicitly specified. AI defaults to Western/white representation for most professional contexts.</p>
                        </div>
                        <div class="did-you-know">
                            <span>üåç</span>
                            <span><strong>Did you know?</strong> Black women earn only 2.5% of computing degrees in the US.</span>
                        </div>
                    </div>
                    <div class="flip-card-back">
                        <h4>Source & Evidence</h4>
                        <p>"Science and Engineering Indicators"</p>
                        <p style="color: white; font-weight: bold;">National Science Foundation (NSF) & NCES</p>
                        <p>Underrepresented minorities constitute a fraction of the STEM workforce. Generative AI reflects the biases of its internet training data, which skews heavily Western.</p>
                    </div>
                </div>
            </div>

            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <div class="tap-hint">‚Üª Click</div>
                        <div>
                            <div class="icon-box icon-orange">
                                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                            <h3>Age Stereotyping</h3>
                            <p>Female professionals are often portrayed younger (beauty standards), while male scientists are shown as elderly‚Äîperpetuating the "Einstein" trope.</p>
                        </div>
                        <div class="did-you-know">
                            <span>üìâ</span>
                            <span><strong>Did you know?</strong> The 'Einstein effect' excludes young innovators.</span>
                        </div>
                    </div>
                    <div class="flip-card-back">
                        <h4>Source & Evidence</h4>
                        <p>"Global AI Narratives Project"</p>
                        <p style="color: white; font-weight: bold;">Leverhulme Centre for the Future of Intelligence</p>
                        <p>Visual analysis of 10,000 AI generated images confirms: "Scientist" prompts yield older white men, while "Assistant" prompts yield young women.</p>
                    </div>
                </div>
            </div>

            <div class="flip-card" onclick="this.classList.toggle('flipped')">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <div class="tap-hint">‚Üª Click</div>
                        <div>
                            <div class="icon-box icon-green">
                                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 24px; height: 24px;"><circle cx="12" cy="12" r="10"></circle><path d="M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6"></path><path d="M6 15v5"></path><path d="M18 15v5"></path><path d="M6 15h12"></path></svg>
                            </div>
                            <h3>Disability Erasure</h3>
                            <p>AI generates 'able-bodied' individuals by default. People with visible disabilities are virtually non-existent in generated professional settings.</p>
                        </div>
                        <div class="did-you-know">
                            <span>‚ôø</span>
                            <span><strong>Did you know?</strong> 16% of the global population experiences significant disability.</span>
                        </div>
                    </div>
                    <div class="flip-card-back">
                        <h4>Source & Evidence</h4>
                        <p>"Global Report on Health Equity"</p>
                        <p style="color: white; font-weight: bold;">World Health Organization (WHO, 2023)</p>
                        <p>Despite 1.3 billion people living with disabilities, AI training datasets often exclude them, leading to "symbolic annihilation" in generated media.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="quote-section">
            <p class="quote-text">
                "Visual representations shape how we perceive who belongs in STEM. When AI consistently shows scientists as white men, it reinforces centuries-old barriers to inclusion."
            </p>
            <p class="quote-author">‚Äî Intersectionality Framework, Kimberl√© Crenshaw</p>
        </div>

        <div id="principles" class="section-title">
            <h2>Values & <span class="highlight-purple">Principles</span></h2>
        </div>

        <div class="cards-grid" style="margin-bottom: 40px;">
            <div class="feature-card">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                    <div class="icon-box icon-blue" style="margin:0; width:36px; height:36px; font-size:1rem;">‚öñÔ∏è</div>
                    <h4 style="margin:0; font-weight: 700;">Fairness</h4>
                </div>
                <p style="font-size:0.9rem; margin:0; color: var(--text-muted);">AI systems should not perpetuate harmful stereotypes.</p>
            </div>
            <div class="feature-card">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                    <div class="icon-box icon-pink" style="margin:0; width:36px; height:36px; font-size:1rem;">‚ù§Ô∏è</div>
                    <h4 style="margin:0; font-weight: 700;">Human Dignity</h4>
                </div>
                <p style="font-size:0.9rem; margin:0; color: var(--text-muted);">Respect for the inherent dignity of all people.</p>
            </div>
             <div class="feature-card">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                    <div class="icon-box icon-purple" style="margin:0; width:36px; height:36px; font-size:1rem;">üë•</div>
                    <h4 style="margin:0; font-weight: 700;">Diversity</h4>
                </div>
                <p style="font-size:0.9rem; margin:0; color: var(--text-muted);">Outputs should reflect the true diversity of humanity.</p>
            </div>
            <div class="feature-card">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                    <div class="icon-box icon-green" style="margin:0; width:36px; height:36px; font-size:1rem;">üîç</div>
                    <h4 style="margin:0; font-weight: 700;">Transparency</h4>
                </div>
                <p style="font-size:0.9rem; margin:0; color: var(--text-muted);">Users should understand how AI decisions are made and data is used.</p>
            </div>
            <div class="feature-card">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                    <div class="icon-box icon-orange" style="margin:0; width:36px; height:36px; font-size:1rem;">üõ°Ô∏è</div>
                    <h4 style="margin:0; font-weight: 700;">Accountability</h4>
                </div>
                <p style="font-size:0.9rem; margin:0; color: var(--text-muted);">Developers are responsible for the ethical impact of their tools.</p>
            </div>
        </div>

        <div class="disclaimer-box">
            <strong>‚ö†Ô∏è Disclaimer:</strong> The outputs generated by this tool are limited to the training data. We cannot guarantee full accuracy.
        </div>

        <div id="contact" style="text-align: center; margin-bottom: 40px; color: var(--text-muted); font-size: 0.9rem;">
            Made with ‚ù§Ô∏è by Tuana, Marina, Rebecca, Sohaib & Heval ‚Äî Technical University of Munich<br>
            <span style="color: var(--accent-purple); font-weight: bold; margin-top: 10px; display: inline-block;">
                üìß Contact: support@stemagine.edu
            </span>
        </div>

    </div>

    <script>
        const promptInput = document.getElementById('promptInput');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const resultsSection = document.getElementById('resultsSection');
        const rewriteText = document.getElementById('rewriteText');
        const charCount = document.getElementById('charCount');
        const copyBtn = document.getElementById('copyBtn');
        const biasTagsContainer = document.getElementById('biasTagsContainer');

        // Feedback Elements
        const feedbackForm = document.getElementById('feedbackForm');
        const feedbackSuccess = document.getElementById('feedbackSuccess');
        const ratingSlider = document.getElementById('ratingSlider');
        const sliderEmoji = document.getElementById('sliderEmoji');
        const sliderLabel = document.getElementById('sliderLabel');
        const submitFeedbackBtn = document.getElementById('submitFeedbackBtn');
        const feedbackComment = document.getElementById('feedbackComment');

        // Character count
        promptInput.addEventListener('input', (e) => {
            charCount.textContent = `${e.target.value.length} characters`;
        });

        // Fill example
        function fillPrompt(text) {
            promptInput.value = text;
            charCount.textContent = `${text.length} characters`;
            promptInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // Copy to Clipboard
        copyBtn.addEventListener('click', () => {
            rewriteText.select();
            rewriteText.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(rewriteText.value).then(() => {
                const originalHTML = copyBtn.innerHTML;
                copyBtn.innerHTML = '‚úì';
                copyBtn.style.color = '#10b981';
                copyBtn.style.borderColor = '#10b981';
                setTimeout(() => {
                    copyBtn.innerHTML = originalHTML;
                    copyBtn.style.color = '';
                    copyBtn.style.borderColor = '';
                }, 2000);
            });
        });

        // Feedback Slider Visuals
        const ratings = {
            1: { emoji: 'üò†', label: 'Bad' },
            2: { emoji: 'üòï', label: 'Poor' },
            3: { emoji: 'üòê', label: 'Neutral' },
            4: { emoji: 'üôÇ', label: 'Good' },
            5: { emoji: 'ü§©', label: 'Perfect' }
        };

        ratingSlider.addEventListener('input', (e) => {
            const val = e.target.value;
            sliderEmoji.textContent = ratings[val].emoji;
            sliderEmoji.style.transform = 'scale(1.2)';
            setTimeout(() => sliderEmoji.style.transform = 'scale(1)', 100);
            sliderLabel.textContent = ratings[val].label;
        });

        // --- REAL FEEDBACK SUBMISSION TO CLOUD ---
        submitFeedbackBtn.addEventListener('click', async () => {
            const comment = feedbackComment.value.trim();
            const rating = ratingSlider.value;
            const originalPrompt = promptInput.value.trim();

            submitFeedbackBtn.textContent = "Sending...";
            submitFeedbackBtn.disabled = true;

            // Construct payload string to save context
            const payload = `[RATING: ${rating}/5] [COMMENT: ${comment}] [ORIGINAL PROMPT: ${originalPrompt}]`;

            try {
                // Reuse existing /feedback endpoint (currently only saves prompt,
                // but you can extend app.py to save comment/rating)
                const response = await fetch('/feedback', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ prompt: payload })
                });

                if(response.ok) {
                    feedbackForm.style.display = 'none';
                    feedbackSuccess.style.display = 'block';
                } else {
                    alert("Error sending feedback");
                }
            } catch (e) {
                console.error(e);
            } finally {
                submitFeedbackBtn.textContent = "Send Feedback";
                submitFeedbackBtn.disabled = false;
            }
        });

        // --- REAL BACKEND CONNECTION ---
        analyzeBtn.addEventListener('click', async () => {
            const prompt = promptInput.value.trim();
            if (!prompt) return;

            // Reset UI
            feedbackForm.style.display = 'block';
            feedbackSuccess.style.display = 'none';
            ratingSlider.value = 3;
            sliderEmoji.textContent = 'üòê';
            sliderLabel.textContent = 'Neutral';
            biasTagsContainer.innerHTML = "";
            rewriteText.value = "Analyzing...";

            // Loading state
            analyzeBtn.textContent = "Processing...";
            analyzeBtn.disabled = true;
            resultsSection.classList.add('hidden');
            resultsSection.style.display = 'none';

            try {
                const response = await fetch('/analyze', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ prompt })
                });

                const result = await response.json();

                if (result.error) {
                    alert(result.error);
                    return;
                }

                // Update Textarea
                if (result.rewritten) {
                    rewriteText.value = result.rewritten;
                } else {
                    rewriteText.value = "No rewrite needed (Prompt is inclusive!)";
                }

                // Generate Tags (Traffic Light)
                const categories = ['Gender', 'Race', 'Disability', 'Age'];
                categories.forEach(category => {
                    const isGap = result.gaps && result.gaps.includes(category);
                    const span = document.createElement('span');

                    if (isGap) {
                        span.className = 'bias-tag tag-warning';
                        span.textContent = `‚ö†Ô∏è Missing ${category}`;
                    } else {
                        span.className = 'bias-tag tag-success';
                        span.textContent = `‚úÖ ${category} Included`;
                    }
                    biasTagsContainer.appendChild(span);
                });

                // Show Results
                resultsSection.style.display = 'block';
                resultsSection.classList.remove('hidden');

            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred during analysis');
            } finally {
                analyzeBtn.textContent = "Analyze Prompt";
                analyzeBtn.disabled = false;
            }
        });
    </script>
</body>
</html>